<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8">
<style>

body {
  font: 10px sans-serif;
}

#mq {
  background: #fff;
}

.band {
  fill: #0000ff;
}

.arrow {
  stroke: #000;
  /*stroke-width: 10;*/

}

.horizontal {

}

.arrowText {
  color: #000;

  font-size: 12px;
  font-weight: bold;
}


</style>

</head>
<body>
<h1>Magic Quadrant Experiments</h1>
<p>This is an experiment to help create a magic quadrant chart</p>
<div style="background: #eee; margin:20px; padding: 50px;">
  <div id="mq" style="width: 400px; height: 400px;"></div>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.js"></script>
<script>


var width = $('#mq').width(),
    height = $('#mq').height();
    //radius = (Math.min(width, height) / 2),
    //outerRadius = radius - 10,
    //innerRadius = outerRadius - (outerRadius * .3);

var marginRight = 40;
var marginLeft = 0;
var marginTop = 40;
var marginBottom = 0;
var chartWidth = width - (marginLeft + marginRight);
var chartHeight = height - (marginTop + marginBottom);

var bands = [];
var numberOfBands = 4;
var innerRadius = 0;
var outerRadius = 0;
var fillColor = d3.rgb("#0000ff");
for(var i = 0; i < numberOfBands; i++){
  innerRadius = outerRadius;
  outerRadius = (i === 0 ? (2/(numberOfBands+1))*chartWidth: (1/(numberOfBands+1))*chartWidth) + innerRadius;
  bands.push(
    {
      innerRadius: innerRadius, 
      outerRadius: outerRadius, 
    });
}

var arc = d3.svg.arc()
    .startAngle(Math.PI)
    .endAngle(Math.PI * 1.5);

var svg = d3.select("#mq").append("svg")
    .attr("width", width)
    .attr("height", height);

  var defs = svg.append('defs');
  var horizontalarrow = defs.append("marker")
    .attr("id", "arrow")
    //.attr("viewbox", "0 0 10 10")
    .attr("refX", 0)
    .attr("refY", 3)
    .attr("markerUnits", "strokeWidth")
    .attr("markerWidth", 6)
    .attr("markerHeight", 6)
    .attr("orient", "auto")
    .append("path")
    .attr("d", "M 0 0 L 6 3 L 0 6 z");
    //.attr("d", "M0,2 L4,0 L0,0 z");


  var horizontalGroup = svg.append("g")
    .attr("transform", "translate(" + marginLeft + "," + 0 + ")");

  var horizontalArrow = horizontalGroup
    .append("line")
      .attr("class", "arrow horizontal")
      .attr("marker-end", "url(#arrow)")
      .attr("stroke-width", 3)
      .attr("x1", 0)
      .attr("y1", marginTop / 2)
      .attr("x2", chartWidth)
      .attr("y2", marginTop / 2);
/*
    horizontalGroup.append("div")
    .attr('height', marginTop)
    .attr('width', chartWidth)
    .attr('background', 'transparent')
    .append("");
*/
    horizontalGroup.append("text")
    .attr("class", "arrowText")
    .attr("text-anchor", "middle")
    .attr("x", chartWidth/2)
    .attr("y", 15)
    .text("TIMELINESS");

 var verticalGroup = svg.append("g")
    .attr("transform", "translate(" + (width - marginRight) + "," + marginTop + ")");

    var verticalArrow = verticalGroup
    .append("line")
      .attr("class", "arrow vertical")
      .attr("marker-end", "url(#arrow)")
      .attr("stroke-width", 3)
      .attr("x1", marginRight/2)
      .attr("y1", chartHeight)
      .attr("x2", marginRight/2)
      .attr("y2", 0);

    verticalGroup.append("text")
    .attr("class", "arrowText")
    .attr("text-anchor", "middle")
    .attr("x", -chartHeight/2)
    .attr("y", marginRight - 3)
    .attr("transform", function(d) {
                return "rotate(-90)" 
                })
    .text("ACCURACY");

  var bandGroup = svg
  .append("g")
    .attr("transform", "translate(" + (chartWidth + marginLeft) + "," + marginTop + ")");

  var bands = bandGroup.selectAll(".band")
    .data(bands)
    .enter().append("g")
    .attr("class", "band");

  bands.append("path")
    .attr("d", arc)
    .style("opacity", function(d,i) {
      return (1 - i/numberOfBands) * .3;
    });


</script>
</body>
</html>

